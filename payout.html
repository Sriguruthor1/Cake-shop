<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payout - Vetri Delights</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-pink-50 text-gray-800 flex items-center justify-center min-h-screen">

  <div class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-2xl">
    <h2 class="text-3xl font-bold text-pink-700 mb-6">Checkout</h2>

    <!-- Customer Info -->
    <div class="grid md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Your Name</label>
        <input type="text" id="customer-name" class="w-full p-4 border rounded-lg focus:ring-2 focus:ring-pink-500" placeholder="John Doe">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
        <input type="tel" id="customer-phone" class="w-full p-4 border rounded-lg focus:ring-2 focus:ring-pink-500" placeholder="(123) 456-7890">
      </div>
      <div class="md:col-span-2">
        <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
        <input type="email" id="customer-email" class="w-full p-4 border rounded-lg focus:ring-2 focus:ring-pink-500" placeholder="john.doe@example.com">
      </div>
      <div class="md:col-span-2">
        <label class="block text-sm font-medium text-gray-700 mb-2">Delivery Address</label>
        <textarea id="delivery-address" rows="3" class="w-full p-4 border rounded-lg focus:ring-2 focus:ring-pink-500"></textarea>
      </div>
    </div>

    <!-- Payment Method -->
    <div class="mt-6">
      <label class="block text-sm font-medium text-gray-700 mb-2">Payment Method</label>
      <div class="flex gap-6">
        <label class="flex items-center space-x-2">
          <input type="radio" name="payment-method" value="Cash on Delivery" checked>
          <span>Cash on Delivery</span>
        </label>
        <label class="flex items-center space-x-2">
          <input type="radio" name="payment-method" value="Card">
          <span>Card</span>
        </label>
        <label class="flex items-center space-x-2">
          <input type="radio" name="payment-method" value="UPI">
          <span>UPI</span>
        </label>
      </div>
    </div>

    <!-- Dynamic Payment Fields -->
    <div id="payment-details" class="mt-6 hidden">
      <!-- Content will change dynamically -->
    </div>

    <!-- Buttons -->
    <div class="flex justify-between mt-8">
      <button onclick="window.location.href='index.html'" class="px-6 py-3 rounded-full bg-gray-200 hover:bg-gray-300">Back</button>
      <button id="confirm-order" class="px-8 py-3 rounded-full bg-pink-600 hover:bg-pink-700 text-white font-semibold">Confirm Order</button>
    </div>
  </div>

  <script>
   
  const paymentRadios = document.querySelectorAll("input[name='payment-method']");
  const paymentDetails = document.getElementById("payment-details");

  paymentRadios.forEach(radio => {
    radio.addEventListener("change", () => {
      if (radio.value === "Card") {
        paymentDetails.innerHTML = `
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Card Number</label>
            <input type="text" id="card-number" class="w-full p-4 border rounded-lg focus:ring-2 focus:ring-pink-500" placeholder="1234 5678 9012 3456">
          </div>
          <div class="grid grid-cols-2 gap-4 mt-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Expiry Date</label>
              <input type="text" id="card-expiry" class="w-full p-4 border rounded-lg focus:ring-2 focus:ring-pink-500" placeholder="MM/YY">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">CVV</label>
              <input type="password" id="card-cvv" class="w-full p-4 border rounded-lg focus:ring-2 focus:ring-pink-500" placeholder="123">
            </div>
          </div>
        `;
        paymentDetails.classList.remove("hidden");
      } else if (radio.value === "UPI") {
        paymentDetails.innerHTML = `
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">UPI ID</label>
            <input type="text" id="upi-id" class="w-full p-4 border rounded-lg focus:ring-2 focus:ring-pink-500" placeholder="example@upi">
          </div>
        `;
        paymentDetails.classList.remove("hidden");
      } else {
        paymentDetails.innerHTML = "";
        paymentDetails.classList.add("hidden");
      }
    });
  });

  document.getElementById("confirm-order").addEventListener("click", () => {
    const name = document.getElementById("customer-name").value || "Not provided";
    const phone = document.getElementById("customer-phone").value || "Not provided";
    const email = document.getElementById("customer-email").value || "Not provided";
    const address = document.getElementById("delivery-address").value || "Not provided";
    const payment = document.querySelector("input[name='payment-method']:checked").value;

    let extra = "";
    if (payment === "Card") {
      const cardNumber = document.getElementById("card-number")?.value || "**** **** **** ****";
      const expiry = document.getElementById("card-expiry")?.value || "MM/YY";
      extra = `\nüí≥ Card: ${cardNumber} (Exp: ${expiry})`;
    } else if (payment === "UPI") {
      const upi = document.getElementById("upi-id")?.value || "Not provided";
      extra = `\nüí≥ UPI ID: ${upi}`;
    }

    // ‚úÖ Show summary
    alert(
      "üéâ Order Confirmed!\n\n" +
      "üë§ " + name + "\nüìû " + phone + "\n‚úâÔ∏è " + email + "\nüìç " + address +
      "\nPayment: " + payment + extra +
      "\n\nThank you!"
    );

    // ‚úÖ Clear cart from storage
    localStorage.removeItem("cart");  // remove stored cart
    sessionStorage.removeItem("cart");
    
    // ‚úÖ Redirect back
    window.location.href = "index.html";
  });
</script>
